---
{"dg-publish":true,"permalink":"/work diary/期末复习/高等数集部分要点/","dgPassFrontmatter":true}
---

### 1.补码
原码转换补码：正数不变；负数除符号位外取反加一，或2的n次方-|x|,例如-128的补码等于2的8次方-128.

### 2.补码的优点
- 补码的减法运算可以转换为补码的加法运算
- 无符号数和有符号数的加法运算可用同一电路完成，只要结果不超过表示范围/不溢出
- 负数补码的转换可以用求补运算实现

### 3.补码运算溢出
- 表示范围-2的n-1次方--2的n-1次方-1，超出该范围就会溢出。
- 如果次高位向最高位进位（或借位）而最高位向前无进位（或借位），则溢出
- 如果次高位无向最高位进位（或借位），而最高位向前有进位（或借位），则溢出

### 4.串行进位加法器：
结构：由N个一位全加器串联而成，第i级用来产生第i+1级的和
特点：结构直观简单，运行速度慢

### 5.超前进位加法器
原理：利用进位产生项和进位传播项实现加法操作从而避免串行进位链中的进位逐级传播，从而大大加快运算速度，代价是电路复杂度上升，以空间换时间。

### 6.浮点数的表示方式
单精度32bit：1bit sign，8bits E，23bits P（AND 1bit hidden，实际上尾数有24bit）

### 7.浮点数加法
- 统一exponent对阶
- 尾数significant相加
- 归一化

### 8.浮点数乘法
- 指数相加
- 尾数相乘
- 归一化

### 9.时序路径需要满足的条件
- Setup：Tctq + Tpath < Tclk - Tskew - Tsetup
- Hold：Tctq + Tpath > Thold + Tskew
setup违例可以通过降频消除而hold违例与频率无关。结合经典时序电路模型图理解。
![Pasted image 20240108213616.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108213616.png)


### 10.Memory分级
- 1cycle：Register File寄存器堆 / L1 Cache（SRAM）
- 5-10cycle：L2 Cache（SRAM）
- 20-30cycle：DDR
- Hundreds cycle：Hard Disk

### 11.降低Cache Miss的方法
- 冷启动阶段，不可避免地经过一系列cache miss，这一阶段的miss基本上无法降低。
- conflict miss：增加组相连数
- capaci miss：增加cache总体大小
### 12.AHB传输控制总线流程
![Pasted image 20240108135421.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108135421.png)
### 13.DMA工作流程
假设DMA相关的寄存器地址如下表所示
![Pasted image 20240108140452.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108140452.png)
那么
Step1:CPU检查0x04处DMA的状态是否Busy
Step2:CPU向0x08、0x0C、0x10处写入源地址、目标地址、以及传输大小。
Step3:CPU向0x00写入Start Flag
Step4:DMA搬运数据
Step5:DMA传输完毕向CPU发出一个中断请求
Step6:CPU检查0x04处DMA的状态
### 14.DRAM的刷新
不管是哪一种动态RAM，都是利用电容存储电荷的原理来保存信息的，由于电容会逐渐放电，所以，对动态RAM必须不断进行读出和再写入，以使泄放的电荷受到补充，也就是进行刷新。 
动态MOS存储器采用“读出”方式进行刷新, 先将原存信息读出，再由刷新放大器形成原信息并重新写入。
- (1) 刷新周期 从上一次对整个存储器刷新结束到下一次对整个存储器全部刷新一遍为止，这一段时间间隔叫 刷新周期。一般为2ms, 4ms, 8ms。
- (2) 刷新方式 常用的刷新方式有三种: 集中式、分散式、异步式。

### 15.低功耗的基本理论
芯片的功耗分为开关功耗和短路功耗，作为设计者我们主要关注开关功耗。
![Pasted image 20240108142202.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108142202.png)

### 16.低功耗设计常用技术
时钟关断 (Clock-Gating)
多域值电压库(Multi-threshold libraries)
多电压(Multi-Voltage)
电源关断 (Power Gating or Power Shutoff)
带状态保持功能的电源关断 (Power Gating with State Retention)
动态电压频率缩放 (Dynamic Voltage and Frequency Scaling)
自适应电压频率缩放 (Adaptive Voltage and Frequency Scaling )
低电压待机 (Low-Vdd Standby) 等

### 17.门控电源
芯片中某些模块不工作时，可以关断其电源，在需要工作时再将其电源导通，可以使电源关断区域的漏电流降至接近零，极大减少芯片的静态功耗。
- 片外关断：在芯片外部通过切断电源来关断芯片内部的某些模块
- 片内关断：分为精细关断和粗糙关断，精细关断需要特别库的支持，可实现每个标准单元的精细关断；而粗糙关断只需要一些门控单元就可以实现对某些模块的电源或地的控制
带有电源门控的SoC框图
![Pasted image 20240108143218.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108143218.png)

### 18.门控时钟
![Pasted image 20240108143706.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108143706.png)
Latch在CLK为低时透明，EN1的毛刺仅出现在CLK的低电平处，此时将CLK与EN1相与则可消除

### 19.基于UPF的低功耗设计流程
![Pasted image 20240108151431.png](/img/user/work%20diary/imgs/Pasted%20image%2020240108151431.png)
统一的UPF文件，逻辑综合、物理实现、仿真验证、等效性检查以及signoff流程可按照UPF中对低功耗设计意图描述来完成整个IC设计实现验证流程。贯穿于整个流程的低功耗意图来源于同一个文件，大大降低低功耗设计的风险性。