---
{"dg-publish":true,"tags":["GNSS"],"permalink":"/Knowledge point/GNSS/载波跟踪环路（载波环）/","dgPassFrontmatter":true}
---

### 功能
载波环的功能是尽可能使其复制的载波信号与接收的卫星载波信号保持一致，从而通过混频机制剥离卫星信号中的载波，使得接收到的信号下变频为基带信号。

### 相位锁定环路
如果载波环检测到其复制载波与输入载波之间的相位差异，然后再相应地调节复制载波的相位，使两者的相位保持一致，这种载波环成为相位锁定环路（锁相环，PLL）。
![QQ_1721123474718.png](/img/user/work%20diary/imgs/QQ_1721123474718.png)
第一个“×”做混频，第二个“×”做相关。
数控振荡器内有一个累加器（配置步长）以及一个正弦表。
在环路滤波器输出为0的情况下，偏移量将刚好使数控振荡器的输出频率等于标称的中频频率，环路滤波器是为了进一步提高信噪比。
### 二阶 FLL 辅助三阶 PLL 的环路滤波器
Larus的载波环使用典型的二阶 FLL 辅助三阶 PLL 的环路滤波器。
PLL鉴相器：鉴相采用的是传统的反正切鉴相器。反正切运算采用定点的 CORDIC 算法。对于 GPS L1C/A 信号，采用二象限的反正切，使用Cor4相关器的相关值。
FLL鉴频器：将连续的若干个相干积分结果做 FFT 运算（如相干积分个数少于 FFT 点数则在后面补 0），然后对峰值的频格（Frequency Bin）和其左右两个频格上的能量（或幅度）进行插值运算得到相应的频差。插值运算采用的公式是
$$arctan\frac{L-R}{2P-L-R}$$

