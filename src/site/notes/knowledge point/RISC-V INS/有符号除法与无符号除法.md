---
{"dg-publish":true,"tags":["risc-v"],"permalink":"/knowledge point/RISC-V INS/有符号除法与无符号除法/","dgPassFrontmatter":true}
---

为NEMU添加指令时发现不仅有DIV指令还有DIVU指令，翻阅RISC-V手册找到如下描述：
![Pasted image 20240404201020.png](/img/user/knowledge%20point/imgs/Pasted%20image%2020240404201020.png)
两者都是整数除法指令，结果向零取整，区别在于DIV是有符号除法而DIVU是无符号除法。
那么所谓的无符号除法究竟是什么除法，与有符号除法相比，我们在硬件上还需要做什么？类似的问题还有slti和sltiu：
![Pasted image 20240404202226.png](/img/user/knowledge%20point/imgs/Pasted%20image%2020240404202226.png)
sltiu很容易理解，immediate符号位扩展后仍然被当做无符号数，即硬件上直接与src1比较即可，那么slti指令中所谓的将immediate视为补码指的是什么意思，硬件上需要对数据做特殊处理吗？
查阅了许多资料，找到第一个重要线索“该指令包括有符号版本（slt）和无符号版本（sltu），分别用于有符号和无符号整数的比较。”这意味着有符号指令和无符号指令面向的对象不同，有符号指令得保证有符号数运算的正确性。

